<!DOCTYPE html>
<html>
<head><link rel="manifest" href="/static/pwa/manifest.json">
<meta name="theme-color" content="#1a6d8c">
<title>KC Scheme Calculator - MAHARASHTRA</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script>
if ("serviceWorker" in navigator) {
  window.addEventListener("load", function () {
    navigator.serviceWorker.register("/static/pwa/service-worker.js");
  });
}
</script>

<style>
  body { font-family: Arial, sans-serif; background: #f4f6f8; margin: 0; padding: 20px; }
  h2 { text-align: center; margin-bottom: 6px; color: #333; }

  /* ===== STATE BANNER + PDF ===== */
  .state-banner {
    text-align: center;
    font-weight: bold;
    color: #1a6d8c;
    margin-bottom: 6px;
  }

  .pdf-link {
    text-align: center;
    margin-bottom: 16px;
  }

  .pdf-link a {
    text-decoration: none;
    font-weight: bold;
    color: #0b5ed7;
  }
  /* ============================= */

  .layout-wrapper {
    display: flex;
    justify-content: center;
    gap: 20px;
    max-width: 1000px;
    margin: 0 auto;
  }

  .column-left, .column-right {
    width: 480px;
  }

  table { width: 100%; border-collapse: collapse; background: #fff; }
  th, td { border: 1px solid #444; padding: 5px; text-align: center; font-size: 0.9rem; }

  .header-main { background-color: #ed7d31; color: white; }
  .header-blue { background-color: #1a6d8c; color: white; }
  .sub-header-yellow { background-color: #ffffcc; font-weight: bold; }

  .row-light-blue { background-color: #d9edf7; }
  .total-row { background: #e2efda; font-weight: bold; }

  .highlight-slab { background-color: #ffff00 !important; font-weight: bold; }

  input { width: 80%; padding: 3px; text-align: center; }

  .btn-container { text-align: center; margin: 30px 0; }

  button {
    padding: 12px 50px;
    background: #d93025;
    color: white;
    border: none;
    border-radius: 4px;
    font-weight: bold;
  }

  /* ===== MOBILE OPTIMIZATION ===== */
  @media (max-width: 600px) {
    .layout-wrapper { flex-direction: column; }
    .column-left, .column-right { width: 100%; }
    th, td { font-size: 0.75rem; }
    input { width: 95%; }
  }
</style>
</head>

<body>

<h2>KC Scheme Calculator FY25 - 26 (Q4)</h2>

<div class="state-banner">
  üìç {{ state_name }}
</div>

<div class="pdf-link">
  <a href="/static/pdfs/maharashtra.pdf" download>
    ‚¨á Download Maharashtra Scheme PDF
  </a>
</div>

<div class="layout-wrapper">

  <!-- LEFT -->
  <div class="column-left">
    <table>
      <tr><th colspan="3" class="header-main">Udaan 6.0 Benefits</th></tr>
      <tr class="header-blue"><th>Product</th><th>INR/Coil</th><th>Points/Coil</th></tr>
      <tr><td>Firex</td><td>20</td><td>80</td></tr>
      <tr class="row-light-blue"><td>SupreX</td><td>10</td><td>40</td></tr>
      <tr><td>Q1</td><td>10</td><td>40</td></tr>
      <tr class="row-light-blue"><td>Unilay</td><td>15</td><td>60</td></tr>
      <tr><td>FlameX</td><td>15</td><td>60</td></tr>
    </table>

    <table class="input-table">
      <tr><th colspan="2" class="sub-header-yellow">Input Quantities</th></tr>
      <tr class="header-blue"><th>Product</th><th>Qty</th></tr>
      <tr><td>Firex</td><td><input id="firex" type="number" value="0" oninput="calc()"></td></tr>
      <tr class="row-light-blue"><td>SupreX</td><td><input id="suprex" type="number" value="0" oninput="calc()"></td></tr>
      <tr><td>Q1</td><td><input id="q1" type="number" value="0" oninput="calc()"></td></tr>
      <tr class="row-light-blue"><td>Unilay</td><td><input id="unilay" type="number" value="0" oninput="calc()"></td></tr>
      <tr><td>FlameX</td><td><input id="flamex" type="number" value="0" oninput="calc()"></td></tr>
      <tr class="total-row"><td>Total Quantity</td><td id="totalQty">0</td></tr>
    </table>
  </div>

  <!-- RIGHT -->
  <div class="column-right">
    <table id="bonanzaTable">
      <tr><th colspan="4" class="header-main">Year End Bonanza (Q)</th></tr>
      <tr class="header-blue"><th>Level</th><th>Min</th><th>Max</th><th>Rs./Coil</th></tr>

      <!-- SLABS UNCHANGED -->
      <tr data-min="0" data-max="20"><td>A</td><td>0</td><td>20</td><td>0</td></tr>
      <tr data-min="21" data-max="30" class="row-light-blue"><td>B</td><td>21</td><td>30</td><td>9</td></tr>
      <tr data-min="31" data-max="50"><td>C</td><td>31</td><td>50</td><td>10</td></tr>
      <tr data-min="51" data-max="100" class="row-light-blue"><td>D</td><td>51</td><td>100</td><td>11</td></tr>
      <tr data-min="101" data-max="200"><td>E</td><td>101</td><td>200</td><td>12</td></tr>
      <tr data-min="201" data-max="400" class="row-light-blue"><td>F</td><td>201</td><td>400</td><td>13</td></tr>
      <tr data-min="401" data-max="750"><td>G</td><td>401</td><td>750</td><td>14</td></tr>
      <tr data-min="751" data-max="1500" class="row-light-blue"><td>H</td><td>751</td><td>1500</td><td>14.5</td></tr>
      <tr data-min="1501" data-max="2500"><td>I</td><td>1501</td><td>2500</td><td>15</td></tr>
      <tr data-min="2501" data-max="4000" class="row-light-blue"><td>J</td><td>2501</td><td>4000</td><td>15.5</td></tr>
      <tr data-min="4001" data-max="6000"><td>K</td><td>4001</td><td>6000</td><td>16</td></tr>
      <tr data-min="6001" data-max="8500" class="row-light-blue"><td>L</td><td>6001</td><td>8500</td><td>16.5</td></tr>
      <tr data-min="8501" data-max="999999"><td>M</td><td>8501</td><td>Above</td><td>17</td></tr>
    </table>
  </div>

</div>

<!-- JS LOGIC KEPT EXACTLY SAME -->
<script>
/* Your existing JS calculation code stays unchanged */
</script>

</body>
</html>
